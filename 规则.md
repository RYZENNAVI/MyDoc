# SQL 任务编写与审查规则（根据导师反馈整理）


本规则依据 2025 年 5 月导师多次反馈内容整理，适用于 Sedrila 项目中 SQL 任务的设计与审查，尤其是 `sql-*` 系列任务。


---


## ✅ 任务设计与整体结构


1. **统一命名规范**  
   遵循 Sedrila 命名规则：https://sedrila.readthedocs.io/en/latest/authors/#114-naming-conventions  
   - 任务文件名必须小写开头，用 `sql-` 前缀；
   - SQL 关键词使用全大写；
   - 用连字符连接各部分，如：`sql-UPDATE-VIEW`。


2. **整体规划任务组（taskgroup）**  
   任务需成体系，考虑前置任务（assumes）与所需任务（required）的完整性。


3. **前置任务未提交时，勿提交后续任务**  
   所依赖的 `assumed` 和 `required` 任务需已提交或审核。


---


## 📘 任务文档结构与表达方式


4. **[BACKGROUND::...] 仅用于动机**  
   不可用于介绍 SQL 概念，概念应写在任务步骤开始部分。


5. **目标分类准确**  
   - 教学性任务：使用 `goal::idea` 或 `goal::experience`；
   - 产出型任务：使用 `goal::product`。


6. **避免过多标题层级**  
   使用三级标题 `###` 即可，防止任务显得混乱。


7. **命令性语句不得作标题**  
   如 `### 执行以下 SQL 代码` 应改为具意义的描述，如 `### 示例：UPDATE 操作演示`


8. **上下文明确**  
   每个段落或代码块需说明其目的，避免读者迷失上下文。


---


## 📖 示例与文档引用


9. **提供权威参考来源**  
   - `difficulty=1`: 给出明确位置或指引；
   - `difficulty=2`: 可稍模糊，但需有提示；
   - `difficulty=3`: 允许宽泛，但仍需说明如何找到资料。


10. **文档引用语气明确**  
    不用“可以阅读”，而应说“建议/需要阅读以完成任务”。


11. **示例需与任务目标关联**  
    示例代码不应孤立，需说明其教学作用和后续关联。


---


## ⚠️ 内容准确性与教学引导


12. **避免含混描述**  
    如“今天”应指明是静态日期还是动态表达式 `today()`，并说明其语法来源。


13. **与任务难度对应的引导强度**  
    - `difficulty=2`：需适当引导，不能跳跃过大；
    - 若涉及知识点未在前面讲过，应提供阅读参考。


14. **清理无用 INCLUDE 语句**  
    不再使用的 `[INCLUDE::...]` 应彻底移除，避免冗余。


---


## 🧩 开发协作与维护规范


15. **任务改名需同步 Issue 标题**  
    避免命名不一致带来困扰。


16. **沟通中使用标记编号（T1, T2, ...）**  
    回应反馈、提出问题时统一使用，方便逐点对齐。


17. **合理使用工具，并说明优劣**  
    - SQLite Online 简便但缺乏历史记录；
    - 本地 `sqlite3` 专业但略复杂；
    - 可混合使用，但需明确说明理由与推荐用法。


18. **推荐工具需说明其可用性与操作方法**  
    如 `sqlite3` 命令行工具，需说明版本限制（仅 3.12+）及如何使用。


19. **拆分无关联内容至新任务**  
    如涉及进阶概念或研究性问题，应另建任务说明。


20. **提交修改时简洁回应即可**
若根据建议做了调整，可简要列出已实施的点，并在 commit 中标明相关 Issue 编号（如 #1）。无需撰写冗长回复；若引入了新内容或想法，可适当补充说明。


21. **将示例解决方案移至私有分支**
标准答案（如 Musterlösung）不应直接出现在公开可见的任务源码中，而应存放在私有仓库（如 altdir 分支）中。在任务文件中只保留 INCLUDE 引用语句即可。
---


> ✅ 建议在每次任务编写或审核时，将本规则清单作为对照标准，并持续更新补充。





